!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["svelte-easyroute"]=t():e["svelte-easyroute"]=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return Math.random().toString(36).substr(2,9)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=u(r(2)),c=u(r(5)),f=u(r(8)),l=u(r(9)),p=u(r(14)),h=function(){function e(e){var t=this;this.settings=e,this.pathService=new s.default,this.routes=[],this.parser=null,this.ignoreEvents=!1,this.silentControl=null,this.beforeEach=null,this.afterEach=null,this.currentMatched=new f.default([]),this.currentRouteData=new f.default({params:{},query:{},name:""}),this.routes=this.pathService.getPathInformation(e.routes),setTimeout((function(){t.setParser()}),0)}return e.prototype.setParser=function(){var e=this;switch(this.mode){case"silent":this.parser=new c.default(this.routes),this.parseRoute(""+window.location.pathname+window.location.search);break;case"history":this.parser=new c.default(this.routes),this.parseRoute(""+window.location.pathname+window.location.search,!1),window.addEventListener("popstate",(function(t){t.state?e.parseRoute(s.default.stripBase(t.state.url,e.base),!1):e.parseRoute("/",!1)}));break;case"hash":default:this.parser=new c.default(this.routes),this.parseRoute(s.default.stripBase(window.location.hash,this.base)||"/"),window.addEventListener("hashchange",(function(){e.ignoreEvents?e.ignoreEvents=!1:e.parseRoute(s.default.stripBase(window.location.hash,e.base))}))}},e.prototype.getTo=function(e,t){var r=e.map((function(e){return e.nestingDepth})),n=Math.max.apply(Math,a(r)),o=e.find((function(e){return e.nestingDepth===n}));return o?Object.freeze(l.default.createRouteObject([o],t)):{params:{},query:{}}},e.prototype.getFrom=function(){if(!this.currentMatched.getValue)return{params:{},query:{}};var e=this.currentMatched.getValue,t=e.map((function(e){return e.nestingDepth})),r=Math.max.apply(Math,a(t)),n=e.find((function(e){return e.nestingDepth===r}));if(!n)return{params:{},query:{}};var o=this.currentRouteData.getValue.fullPath;return Object.freeze(l.default.createRouteObject([n],o))},e.prototype.changeUrl=function(e,t){void 0===t&&(t=!0),"hash"===this.mode&&(window.location.hash=e),"history"===this.mode&&t&&window.history.pushState({url:e},"Test",e)},e.prototype.parseRoute=function(e,t){var r;return void 0===t&&(t=!0),n(this,void 0,void 0,(function(){var n,i,a;return o(this,(function(o){switch(o.label){case 0:return"hash"===this.mode&&e.includes("#")&&(e=e.replace("#","")),"history"===this.mode&&e.includes("#")&&(e=e.replace("#","")),(n=null===(r=this.parser)||void 0===r?void 0:r.parse(e.split("?")[0]))?(i=this.getTo(n,e),a=this.getFrom(),"silent"!==this.mode||this.silentControl||(this.silentControl=new p.default(i)),this.silentControl&&t&&this.silentControl.appendHistory(i),[4,this.beforeHook(i,a)]):[2];case 1:return o.sent()?(this.changeUrl(s.default.constructUrl(e,this.base),t),this.currentRouteData.setValue(i),this.currentMatched.setValue(n),this.afterHook(i,a),[2]):[2]}}))}))},e.prototype.navigate=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.ignoreEvents=!0,[4,this.parseRoute(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.beforeHook=function(e,t){return n(this,void 0,void 0,(function(){var r=this;return o(this,(function(n){return[2,new Promise((function(n){r.beforeEach?r.beforeEach(e,t,(function(e){null!=e?(!1===e&&n(!1),"string"==typeof e&&(r.parseRoute(e),n(!1))):n(!0)})):n(!0)}))]}))}))},e.prototype.afterHook=function(e,t){this.afterEach&&this.afterEach(e,t)},e.prototype.push=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.navigate(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.go=function(e){"silent"!==this.mode?window.history.go(e):(console.log(this.silentControl.go(e)),this.parseRoute(this.silentControl.go(e),!1))},e.prototype.back=function(){this.go(-1)},Object.defineProperty(e.prototype,"mode",{get:function(){return this.settings.mode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"base",{get:function(){var e;return null!==(e=this.settings.base)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRoute",{get:function(){return this.currentRouteData.getValue},enumerable:!1,configurable:!0}),e}();t.default=h},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(r(0)),a=n(r(4)),u=function(){function e(){this.pathToRegexp=o.pathToRegexp}return e.prototype.parsePaths=function(e){var t=[];return function e(r,n,o,a){void 0===n&&(n=""),void 0===o&&(o=0),void 0===a&&(a=null),r.forEach((function(r){if(n.length){n=n.replace(/\*/g,"");var u=r.path;null!=u&&"/"!==u[0]&&(u="/"+u),r.path=("/"!==n[n.length-1]?n:"")+u,r.nestingDepth=o}else r.nestingDepth=o;r.parentId=a,r.id=i.default(),t.push(r),r.children&&r.children.length&&e(r.children,r.path,o+1,r.id)}))}(e),t},e.prototype.getPathInformation=function(e){var t=this;return this.parsePaths(e).map((function(e){var r=[];return e.regexpPath=t.pathToRegexp(e.path,r),e.pathKeys=r,e}))},e.stripBase=function(e,t){return t?e.replace(t+"/",""):e},e.constructUrl=function(e,t){return!t||e.includes(t)?e:"/"+a.default(t,e)},e}();t.default=u},function(e,t,r){"use strict";function n(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)t.push({type:"CHAR",index:r,value:e[r++]});else{var o=1,i="";if("?"===e[u=r+1])throw new TypeError('Pattern cannot start with "?" at '+u);for(;u<e.length;)if("\\"!==e[u]){if(")"===e[u]){if(0===--o){u++;break}}else if("("===e[u]&&(o++,"?"!==e[u+1]))throw new TypeError("Capturing groups are not allowed at "+u);i+=e[u++]}else i+=e[u++]+e[u++];if(o)throw new TypeError("Unbalanced pattern at "+r);if(!i)throw new TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:i}),r=u}else{for(var a="",u=r+1;u<e.length;){var s=e.charCodeAt(u);if(!(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||95===s))break;a+=e[u++]}if(!a)throw new TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:a}),r=u}else t.push({type:"CLOSE",index:r,value:e[r++]});else t.push({type:"OPEN",index:r,value:e[r++]});else t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});else t.push({type:"MODIFIER",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),n=t.prefixes,o=void 0===n?"./":n,i="[^"+s(t.delimiter||"/#?")+"]+?",a=[],u=0,c=0,f="",l=function(e){if(c<r.length&&r[c].type===e)return r[c++].value},p=function(e){var t=l(e);if(void 0!==t)return t;var n=r[c],o=n.type,i=n.index;throw new TypeError("Unexpected "+o+" at "+i+", expected "+e)},h=function(){for(var e,t="";e=l("CHAR")||l("ESCAPED_CHAR");)t+=e;return t};c<r.length;){var d=l("CHAR"),y=l("NAME"),v=l("PATTERN");if(y||v){var g=d||"";-1===o.indexOf(g)&&(f+=g,g=""),f&&(a.push(f),f=""),a.push({name:y||u++,prefix:g,suffix:"",pattern:v||i,modifier:l("MODIFIER")||""})}else{var m=d||l("ESCAPED_CHAR");if(m)f+=m;else if(f&&(a.push(f),f=""),l("OPEN")){g=h();var b=l("NAME")||"",w=l("PATTERN")||"",x=h();p("CLOSE"),a.push({name:b||(w?u++:""),pattern:b&&!w?i:w,prefix:g,suffix:x,modifier:l("MODIFIER")||""})}else p("END")}}return a}function o(e,t){return i(n(e,t),t)}function i(e,t){void 0===t&&(t={});var r=c(t),n=t.encode,o=void 0===n?function(e){return e}:n,i=t.validate,a=void 0===i||i,u=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",r)}));return function(t){for(var r="",n=0;n<e.length;n++){var i=e[n];if("string"!=typeof i){var s=t?t[i.name]:void 0,c="?"===i.modifier||"*"===i.modifier,f="*"===i.modifier||"+"===i.modifier;if(Array.isArray(s)){if(!f)throw new TypeError('Expected "'+i.name+'" to not repeat, but got an array');if(0===s.length){if(c)continue;throw new TypeError('Expected "'+i.name+'" to not be empty')}for(var l=0;l<s.length;l++){var p=o(s[l],i);if(a&&!u[n].test(p))throw new TypeError('Expected all "'+i.name+'" to match "'+i.pattern+'", but got "'+p+'"');r+=i.prefix+p+i.suffix}}else if("string"!=typeof s&&"number"!=typeof s){if(!c){var h=f?"an array":"a string";throw new TypeError('Expected "'+i.name+'" to be '+h)}}else{p=o(String(s),i);if(a&&!u[n].test(p))throw new TypeError('Expected "'+i.name+'" to match "'+i.pattern+'", but got "'+p+'"');r+=i.prefix+p+i.suffix}}else r+=i}return r}}function a(e,t){var r=[];return u(l(e,r,t),r,t)}function u(e,t,r){void 0===r&&(r={});var n=r.decode,o=void 0===n?function(e){return e}:n;return function(r){var n=e.exec(r);if(!n)return!1;for(var i=n[0],a=n.index,u=Object.create(null),s=function(e){if(void 0===n[e])return"continue";var r=t[e-1];"*"===r.modifier||"+"===r.modifier?u[r.name]=n[e].split(r.prefix+r.suffix).map((function(e){return o(e,r)})):u[r.name]=o(n[e],r)},c=1;c<n.length;c++)s(c);return{path:i,index:a,params:u}}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function c(e){return e&&e.sensitive?"":"i"}function f(e,t,r){void 0===r&&(r={});for(var n=r.strict,o=void 0!==n&&n,i=r.start,a=void 0===i||i,u=r.end,f=void 0===u||u,l=r.encode,p=void 0===l?function(e){return e}:l,h="["+s(r.endsWith||"")+"]|$",d="["+s(r.delimiter||"/#?")+"]",y=a?"^":"",v=0,g=e;v<g.length;v++){var m=g[v];if("string"==typeof m)y+=s(p(m));else{var b=s(p(m.prefix)),w=s(p(m.suffix));if(m.pattern)if(t&&t.push(m),b||w)if("+"===m.modifier||"*"===m.modifier){var x="*"===m.modifier?"?":"";y+="(?:"+b+"((?:"+m.pattern+")(?:"+w+b+"(?:"+m.pattern+"))*)"+w+")"+x}else y+="(?:"+b+"("+m.pattern+")"+w+")"+m.modifier;else y+="("+m.pattern+")"+m.modifier;else y+="(?:"+b+w+")"+m.modifier}}if(f)o||(y+=d+"?"),y+=r.endsWith?"(?="+h+")":"$";else{var E=e[e.length-1],_="string"==typeof E?d.indexOf(E[E.length-1])>-1:void 0===E;o||(y+="(?:"+d+"(?="+h+"))?"),_||(y+="(?="+d+"|"+h+")")}return new RegExp(y,c(r))}function l(e,t,r){return e instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(e,t):Array.isArray(e)?function(e,t,r){var n=e.map((function(e){return l(e,t,r).source}));return new RegExp("(?:"+n.join("|")+")",c(r))}(e,t,r):function(e,t,r){return f(n(e,r),t,r)}(e,t,r)}r.r(t),r.d(t,"parse",(function(){return n})),r.d(t,"compile",(function(){return o})),r.d(t,"tokensToFunction",(function(){return i})),r.d(t,"match",(function(){return a})),r.d(t,"regexpToFunction",(function(){return u})),r.d(t,"tokensToRegexp",(function(){return f})),r.d(t,"pathToRegexp",(function(){return l}))},function(e,t,r){var n,o,i;i=function(){function e(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var r=e.shift();e[0]=r+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var n=0;n<e.length;n++){var o=e[n];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(n>0&&(o=o.replace(/^[\/]+/,"")),o=n<e.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),t.push(o))}var i=t.join("/"),a=(i=i.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return i=a.shift()+(a.length>0?"?":"")+a.join("&")}return function(){return e("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=i():void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o)},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(6),a=r(7),u=function(){function e(e){this.routes=e}return e.prototype.parse=function(e){var t=this,r=this.routes.reduce((function(t,r){return e.match(r.regexpPath)&&t.push(r),t}),[]),n=[];r.forEach((function(e){n=o(n,i.getRoutesTreeChain(t.routes,e.id))}));var u=a.uniqueById(n);if(!u)throw new Error("[Easyroute] No routes matched");return u},e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRoutesTreeChain=void 0,t.getRoutesTreeChain=function(e,t){var r=[],n=t,o=e.find((function(e){return e.id===n})),i=function(){var t=e.find((function(e){return e.id===n}));if(!t)return"break";var o=e.find((function(e){return e.id===t.parentId}));o?(r.push(o),n=o.id):n=null};do{if("break"===i())break}while(n);return o&&r.push(o),r}},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueById=void 0,t.uniqueById=function(e){return o(new Set(e.map((function(e){return e.id})))).map((function(t){return e.find((function(e){return e.id===t}))}))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i=function(){function e(e){this.value=e,this._subscribersQueue={}}return Object.defineProperty(e.prototype,"getValue",{get:function(){return this.value},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(e){var t=this,r=o.default();return this._subscribersQueue[r]=e,e(this.getValue),function(){delete t._subscribersQueue[r]}},e.prototype.setValue=function(e){for(var t in this.value=e,this._subscribersQueue){(0,this._subscribersQueue[t])(this.value)}},e}();t.default=i},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(10)),u=function(){function e(){}return e.getQueryParams=function(e){return a.default.parse(e)},e.getPathParams=function(e,t){var r=e.regexpPath.exec(t);r=r.slice(1,r.length);var n={};for(var o in r){var i=r[o],a=e.pathKeys[o].name;"number"!=typeof a&&(n[a]=i)}return n},e.createRouteObject=function(t,r){var i,a=t.map((function(e){return e.nestingDepth})),u=Math.max.apply(Math,o(a)),s=t.find((function(e){return e.nestingDepth===u})),c=n(r.split("?"),2),f=c[0],l=c[1];return s?{params:e.getPathParams(s,f),query:e.getQueryParams(l),name:s.name,fullPath:r,meta:null!==(i=s.meta)&&void 0!==i?i:{}}:{params:{},query:{}}},e}();t.default=u},function(e,t,r){"use strict";const n=r(11),o=r(12),i=r(13);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function s(e,t){return t.decode?o(e):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const o="string"==typeof r&&r.split("").indexOf(e.arrayFormatSeparator)>-1?r.split(e.arrayFormatSeparator).map(t=>s(t,e)):null===r?r:s(r,e);n[t]=o};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const o of e.split("&")){let[e,a]=i(t.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:s(a,t),r(s(e,t),a,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=l(r[e],t);else n[e]=l(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=f,t.parse=p,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const o=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[",o,"]"].join("")]:[...r,[u(t,e),"[",u(o,e),"]=",u(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[]"].join("")]:[...r,[u(t,e),"[]=",u(n,e)].join("")];case"comma":case"separator":return t=>(r,n)=>null==n||0===n.length?r:0===r.length?[[u(t,e),"=",u(n,e)].join("")]:[[r,u(n,e)].join(e.arrayFormatSeparator)];default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,u(t,e)]:[...r,[u(t,e),"=",u(n,e)].join("")]}}(t),o={};for(const t of Object.keys(e))r(t)||(o[t]=e[t]);const i=Object.keys(o);return!1!==t.sort&&i.sort(t.sort),i.map(r=>{const o=e[r];return void 0===o?"":null===o?u(r,t):Array.isArray(o)?o.reduce(n(r),[]).join("&"):u(r,t)+"="+u(o,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=i(e,"#");return Object.assign({url:r.split("?")[0]||"",query:p(f(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:s(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0},r);const n=c(e.url).split("?")[0]||"",o=t.extract(e.url),i=t.parse(o,{sort:!1}),a=Object.assign(i,e.query);let s=t.stringify(a,r);s&&(s="?"+s);let f=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(f="#"+u(e.fragmentIdentifier,r)),`${n}${s}${f}`}},function(e,t,r){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(r),i(n))}function a(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=o.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=a(r[0]);n!==r[0]&&(t[r[0]]=n)}r=o.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),u=0;u<i.length;u++){var s=i[u];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},function(e,t,r){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.history=[],this.currentHistoryPosition=0,this.appendHistory(e)}return e.prototype.appendHistory=function(e){var t;Array.isArray(e)?((t=this.history).push.apply(t,o(e)),this.currentHistoryPosition+=e.length):(this.history.push(e),this.currentHistoryPosition++)},e.prototype.back=function(){return this.go(-1)},e.prototype.go=function(e){var t,r,n=this.currentHistoryPosition+e,o=this.history[n];return o?(this.currentHistoryPosition=n,null!==(t=null==o?void 0:o.fullPath)&&void 0!==t?t:""):null!==(r=this.history[0].fullPath)&&void 0!==r?r:""},e}();t.default=i}])}));